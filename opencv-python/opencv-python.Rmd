--- 
title: "Image Generation, Processing & Understanding with Python"
author: "Yongduek Seo"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
documentclass: book
bibliography: [book.bib, packages.bib]
biblio-style: apalike
link-citations: yes
description: "Many things about image and video."
---

# Preparation & Documents

Placeholder



<!--chapter:end:index.Rmd-->


# Pixelwise Operations {#pixel}

Placeholder


## Blending Two Images
## Negative Film Effect
## Histogram of RGB numpy image

<!--chapter:end:1000-intro.Rmd-->

# Float32 Pixel Representation

- `uint8` is a popular choice. 24bit representation.
- `float32` for $[0,1]$ pixel values is another choice.
  - One RGB pixel occupies $3\times32$bits or  12byte representation.
- TIF image file format can be used to save images of `float32` pixel data.


```{python, code=readLines('python/float-image-type.py')}
```

<!--chapter:end:1002-float-image.Rmd-->


# Geometric Transformations

1. Translation
1. Scaling (magnifying x2)
  1. interpolation
1. Rotation
1. Matrix Notation & Homogeneous Coordinate Representation
1. Similarity Transformation
1. Affine Tranformation
1. Projective (Perspective) Transformation

<!--chapter:end:1003-geometric-transformations.Rmd-->



# Histogram Equalization

- Check [Wikipedia Histogram Equalization](https://en.wikipedia.org/wiki/Histogram_equalization)

```{python, echo=FALSE, code=readLines('python/histogram_equalization.py')}
```


```{python, eval=FALSE, code=readLines('python/histogram_equalization.py')}
```

Q. For an RGB image, convert it to HSV format, apply hisotgram equalization to V channel, convert back to RGB. Show an example.

<!--chapter:end:1003-histograms.Rmd-->



# Gamma Correction

- Read [Wikipedia Gamma Correction Page](https://en.wikipedia.org/wiki/Gamma_correction)

```{python, code=readLines('python/gamma_correction.py')}
```


<!--chapter:end:1004-gamma-correction.Rmd-->



# HSV Color Space

HSV color representation is another popular way.
```{r hsvCylinder, echo=FALSE, fig.align='center', fig.cap='HSV Cylinder'}
knitr::include_graphics('python/figures/hsv-cylinder.png')
```

```{python, code=readLines('python/rgb_hsv.py')}
```



<!--chapter:end:1005-HSV-color.Rmd-->


# Video File Manipulation {#video}

Placeholder


## Video File Read/Write
## Video File Set Frame Position

<!--chapter:end:2000-videofile.Rmd-->

# Convolution (Space Filter)

- [OpenCV filtering](https://docs.opencv.org/3.1.0/d4/d13/tutorial_py_filtering.html)

- Convolution operation: linear filter
- Fast computation should be implemented in C/C++, or use `numpy` with care after its manual.
- 

## Smoothing or Blurring

```{python blurFilter, code=readLines('python/filter-box-blur.py')}
```


<!--chapter:end:3000-space-filters.Rmd-->


# Gradient & Edge Operation

Placeholder


## Sobel-X
## Canny Edge Detector

<!--chapter:end:3002-gradient-edge.Rmd-->


# Morphological Filters

1. Structuring Element
1. Dilation
1. Erosion
1. Close
1. Open
1. Gradient (for B/W images)

<!--chapter:end:3003-morph-filter.Rmd-->


# MoviePy to manipulate movie files

Placeholder


## Install `youtube-dl`
## Text overlay on a video clip
## Extract audio (MP3) from a movie file
## Movie Concatanation
## Apply Filter Frame by Frame
## MoviePy Open & Get A Frame
## Errors

<!--chapter:end:4000-moviepy.Rmd-->


# k-means clustering 

```{python kmeansColors, code=readLines('python/kmeans-colors.py')}
```

# EOF

<!--chapter:end:5000-kmeans-clustering.Rmd-->


# SuperPixel Segmentation

- Check [Labeling superpixel colorfulness](https://www.pyimagesearch.com/2017/06/26/labeling-superpixel-colorfulness-opencv-python/)



<!--chapter:end:5001-superpixel-slic.Rmd-->



# Non-Photorealistic Rendering

## OpenCV non-photorealistic rendering

- [Domain Transform for Edge-Aware Image & Video Processing](http://www.inf.ufrgs.br/~eslgastal/DomainTransform/)

```{python, code=readLines('python/non-photorealistic.py')}
```


## Hand-made cartoon-like filtering

```{python, code=readLines('python/cartoon-1.py')}
```



<!--chapter:end:5002-nonphotorealistic.Rmd-->


# Drawing Text in Image with a Font (OTF) file

- Install [Google Noto CJK Fonts](https://www.google.co.kr/get/noto/help/cjk)

- Use `PIL` with `python`
  - [`PIL.ImageFont`](https://pillow.readthedocs.io/en/stable/reference/ImageFont.html)
  - [Drawing anti-aliased unicode text with python](https://kalyanchakravarthy.net/blog/drawing-anti-aliased-unicode-text-with-python)
  
- [Computer_font](https://en.wikipedia.org/wiki/Computer_font#OUTLINE)
  - Outline font:
    - Outline fonts or vector fonts are collections of vector images, consisting of lines and curves defining the boundary of glyphs.
    - The primary advantage of outline fonts is that, unlike bitmap fonts, they are a set of lines and curves instead of pixels; they can be scaled without causing pixellation.
    
- [OpenType Font](https://en.wikipedia.org/wiki/OpenType)
  - ensuring that all of the required glyphs for a document are contained in one cross-platform font file throughout the workflow. [Adobe opentype](https://www.adobe.com/products/type/opentype.html)
  
- [GNU Charmap](https://wiki.gnome.org/Apps/Gucharmap)

- [OpenGL Text Rendering](https://en.wikibooks.org/wiki/OpenGL_Programming/Modern_OpenGL_Tutorial_Text_Rendering_01)

- [FreeType Library](https://www.freetype.org/)
  - FreeType is a freely available software library to render fonts.
  -It is written in C, designed to be small, efficient, highly customizable, and portable while capable of producing high-quality output (glyph images) of most vector and bitmap font formats.

<!--chapter:end:5003-fonts.Rmd-->

`r if (knitr::is_html_output()) '
# References {-}
'`

<!--chapter:end:9999-references.Rmd-->

